<div class="container mt-5">
  <div class="card shadow-lg p-4 bg-light">
    <h2 class="text-center mb-4 text-primary fw-bold">ğŸ“ My To-Do List</h2>

    <!-- Input -->
    <div class="input-group mb-3">
      <input type="text"
             class="form-control border-primary"
             placeholder="Enter new task..."
             [(ngModel)]="newTask">
      <button class="btn btn-success" (click)="addTask()">Add</button>
    </div>

    <!-- Task List -->
    <ul class="list-group">
      <li *ngFor="let task of tasks; let i = index"
          class="list-group-item d-flex justify-content-between align-items-center flex-wrap"
          [class.completed]="task.completed">

        <!-- Editing Mode -->
        <div *ngIf="task.editing" class="d-flex w-100">
          <input type="text"
                 class="form-control me-2"
                 [value]="task.name"
                 #updatedTask>
          <button class="btn btn-sm btn-primary me-2"
                  (click)="updateTask(task, updatedTask.value)">Save</button>
          <button class="btn btn-sm btn-secondary"
                  (click)="task.editing=false">Cancel</button>
        </div>

        <!-- Normal View Mode -->
        <div *ngIf="!task.editing" class="d-flex justify-content-between w-100">
          <span class="fw-semibold task-text"
                [class.text-decoration-line-through]="task.completed">
            {{ task.name }}
          </span>
          <div>
            <button class="btn btn-sm btn-success me-2"
                    (click)="toggleCompleted(task)">
              {{ task.completed ? 'Undo' : 'Done' }}
            </button>
            <button class="btn btn-sm btn-warning me-2"
                    (click)="editTask(task)">Edit</button>
            <button class="btn btn-sm btn-danger"
                    (click)="deleteTask(i)">Delete</button>
          </div>
        </div>
      </li>
    </ul>
  </div>
</div>
